# This is as appendix for SIGMOD auther feedback.

![q_e](https://user-images.githubusercontent.com/52020936/171157120-49d6b894-e9d2-4b41-bd28-560bc5284663.png)(./pic/pic1_50.png =100x100)


## The intuition that LPCE should be used for the query complex such as having many joins. 
To further explain the intuition, we conducted the experiments with queries having varying number of joins on IMDB. Let t_{learn} denote the end-to-end execution when the plan is generated by feeding cardinality values provided by a learned model – LPCE-I.  Let t_{opt} denote the end-to-end execution when the plan is generated by feeding actual cardinality values, which is the optimal execution that we could reach.  Each test set have 100 queries with 2, 4, 6 and 8 joins. We observed that with the increase of join numbers, the average ratio t_{learn}/t_{opt} becomes larger, from 2.2%, 9.3%, 21.7%, to 29.1%. This suggests that there is larger performance gap to optimal execution for complex queries, and it’s more likely that a learned model as such LPCE can contribute to a better plan. 
```
Experiment setting
Let t_{learn} denote end-to-end execution when the plan is generated by feeding cardinalities from a learned model (e.g., LPCE-I).
Let t_{opt} denote end-to-end execution when the plan is generated by feeding actual cardinalities.  
Each query set has 100 queries with 2, 4, 6, 8 joins.
```
![learn_vs_real](https://user-images.githubusercontent.com/52020936/170882637-b9e3f3e3-b1e9-498c-8bef-721fdb304ba4.png)

We can observe that the accurate estimations are more important to complex queries, as there is performance gap to reach the optimal one.
In such queries, it's more likely that the higher accuracy of learned model can contribute to a better plan.

